{
  "question_name": "trapping-rain-water-ii",
  "problem_metadata": {
    "questionId": "407",
    "title": "Trapping Rain Water II",
    "titleSlug": "trapping-rain-water-ii",
    "content": "<p>Given an <code>m x n</code> integer matrix <code>heightMap</code> representing the height of each unit cell in a 2D elevation map, return <em>the volume of water it can trap after raining</em>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2021/04/08/trap1-3d.jpg\" style=\"width: 361px; height: 321px;\" />\n<pre>\n<strong>Input:</strong> heightMap = [[1,4,3,1,3,2],[3,2,1,3,2,4],[2,3,3,2,3,1]]\n<strong>Output:</strong> 4\n<strong>Explanation:</strong> After the rain, water is trapped between the blocks.\nWe have two small ponds 1 and 3 units trapped.\nThe total volume of water trapped is 4.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2021/04/08/trap2-3d.jpg\" style=\"width: 401px; height: 321px;\" />\n<pre>\n<strong>Input:</strong> heightMap = [[3,3,3,3,3],[3,2,2,2,3],[3,2,1,2,3],[3,2,2,2,3],[3,3,3,3,3]]\n<strong>Output:</strong> 10\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>m == heightMap.length</code></li>\n\t<li><code>n == heightMap[i].length</code></li>\n\t<li><code>1 &lt;= m, n &lt;= 200</code></li>\n\t<li><code>0 &lt;= heightMap[i][j] &lt;= 2 * 10<sup>4</sup></code></li>\n</ul>\n",
    "difficulty": "Hard",
    "stats": "{\"totalAccepted\": \"263K\", \"totalSubmission\": \"411.1K\", \"totalAcceptedRaw\": 262997, \"totalSubmissionRaw\": 411102, \"acRate\": \"64.0%\"}",
    "topicTags": [
      {
        "name": "Array",
        "slug": "array",
        "translatedName": null
      },
      {
        "name": "Breadth-First Search",
        "slug": "breadth-first-search",
        "translatedName": null
      },
      {
        "name": "Heap (Priority Queue)",
        "slug": "heap-priority-queue",
        "translatedName": null
      },
      {
        "name": "Matrix",
        "slug": "matrix",
        "translatedName": null
      }
    ],
    "hints": []
  },
  "submissions": [
    {
      "id": "1790374952",
      "statusDisplay": "Accepted",
      "lang": {
        "name": "python3",
        "verboseName": "Python3"
      },
      "runtime": 124,
      "memory": 20256000,
      "timestamp": 1759511651,
      "title": "Trapping Rain Water II",
      "titleSlug": "trapping-rain-water-ii",
      "runtimeDisplay": "124 ms",
      "runtimePercentile": 46.108900000000006,
      "memoryDisplay": "20.3 MB",
      "memoryPercentile": 83.37279999999998,
      "code": "import heapq\n\nclass Solution:\n    def trapRainWater(self, heightMap: List[List[int]]) -> int:\n        if not heightMap or len(heightMap) < 3 or len(heightMap[0]) < 3:\n            return 0\n\n        m, n = len(heightMap), len(heightMap[0])\n        visited = [[False] * n for _ in range(m)]\n        heap = []\n\n        for i in range(m):\n            heapq.heappush(heap, (heightMap[i][0], i, 0))\n            heapq.heappush(heap, (heightMap[i][n - 1], i, n - 1))\n            visited[i][0] = visited[i][n - 1] = True\n        for j in range(n):\n            heapq.heappush(heap, (heightMap[0][j], 0, j))\n            heapq.heappush(heap, (heightMap[m - 1][j], m - 1, j))\n            visited[0][j] = visited[m - 1][j] = True\n\n        result = 0\n        directions = [(0, 1), (1, 0), (0, -1), (-1, 0)]\n\n        while heap:\n            height, x, y = heapq.heappop(heap)\n\n            for dx, dy in directions:\n                nx, ny = x + dx, y + dy\n                if 0 <= nx < m and 0 <= ny < n and not visited[nx][ny]:\n                    result += max(0, height - heightMap[nx][ny])\n                    heapq.heappush(heap, (max(height, heightMap[nx][ny]), nx, ny))\n                    visited[nx][ny] = True\n\n        return result\n",
      "statusCode": 10,
      "user": {
        "username": "saachinnnnn",
        "profile": {
          "realName": "Iam4ari"
        }
      },
      "question": {
        "questionId": "407",
        "titleSlug": "trapping-rain-water-ii",
        "hasFrontendPreview": false
      },
      "notes": "",
      "flagType": "WHITE",
      "topicTags": [],
      "runtimeError": null,
      "compileError": null
    }
  ]
}