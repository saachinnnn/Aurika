{
  "question_name": "minimum-cost-path-with-alternating-directions-ii",
  "problem_metadata": {
    "questionId": "3927",
    "title": "Minimum Cost Path with Alternating Directions II",
    "titleSlug": "minimum-cost-path-with-alternating-directions-ii",
    "content": "<p>You are given two integers <code>m</code> and <code>n</code> representing the number of rows and columns of a grid, respectively.</p>\n\n<p>The cost to enter cell <code>(i, j)</code> is defined as <code>(i + 1) * (j + 1)</code>.</p>\n\n<p>You are also given a 2D integer array <code>waitCost</code> where <code>waitCost[i][j]</code> defines the cost to <strong>wait</strong> on that cell.</p>\n\n<p>The path will always begin by entering cell <code>(0, 0)</code> on move 1 and paying the entrance cost.</p>\n\n<p>At each step, you follow an alternating pattern:</p>\n\n<ul>\n\t<li>On <strong>odd-numbered</strong> seconds, you must move <strong>right</strong> or <strong>down</strong> to an <strong>adjacent</strong> cell, paying its entry cost.</li>\n\t<li>On <strong>even-numbered</strong> seconds, you must <strong>wait</strong> in place for <strong>exactly</strong> one second and pay <code>waitCost[i][j]</code> during that second.</li>\n</ul>\n\n<p>Return the <strong>minimum</strong> total cost required to reach <code>(m - 1, n - 1)</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">m = 1, n = 2, waitCost = [[1,2]]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">3</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The optimal path is:</p>\n\n<ul>\n\t<li>Start at cell <code>(0, 0)</code> at second 1 with entry cost <code>(0 + 1) * (0 + 1) = 1</code>.</li>\n\t<li><strong>Second 1</strong>: Move right to cell <code>(0, 1)</code> with entry cost <code>(0 + 1) * (1 + 1) = 2</code>.</li>\n</ul>\n\n<p>Thus, the total cost is <code>1 + 2 = 3</code>.</p>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">m = 2, n = 2, waitCost = [[3,5],[2,4]]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">9</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The optimal path is:</p>\n\n<ul>\n\t<li>Start at cell <code>(0, 0)</code> at second 1 with entry cost <code>(0 + 1) * (0 + 1) = 1</code>.</li>\n\t<li><strong>Second 1</strong>: Move down to cell <code>(1, 0)</code> with entry cost <code>(1 + 1) * (0 + 1) = 2</code>.</li>\n\t<li><strong>Second 2</strong>: Wait at cell <code>(1, 0)</code>, paying <code>waitCost[1][0] = 2</code>.</li>\n\t<li><strong>Second 3</strong>: Move right to cell <code>(1, 1)</code> with entry cost <code>(1 + 1) * (1 + 1) = 4</code>.</li>\n</ul>\n\n<p>Thus, the total cost is <code>1 + 2 + 2 + 4 = 9</code>.</p>\n</div>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">m = 2, n = 3, waitCost = [[6,1,4],[3,2,5]]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">16</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The optimal path is:</p>\n\n<ul>\n\t<li>Start at cell <code>(0, 0)</code> at second 1 with entry cost <code>(0 + 1) * (0 + 1) = 1</code>.</li>\n\t<li><strong>Second 1</strong>: Move right to cell <code>(0, 1)</code> with entry cost <code>(0 + 1) * (1 + 1) = 2</code>.</li>\n\t<li><strong>Second 2</strong>: Wait at cell <code>(0, 1)</code>, paying <code>waitCost[0][1] = 1</code>.</li>\n\t<li><strong>Second 3</strong>: Move down to cell <code>(1, 1)</code> with entry cost <code>(1 + 1) * (1 + 1) = 4</code>.</li>\n\t<li><strong>Second 4</strong>: Wait at cell <code>(1, 1)</code>, paying <code>waitCost[1][1] = 2</code>.</li>\n\t<li><strong>Second 5</strong>: Move right to cell <code>(1, 2)</code> with entry cost <code>(1 + 1) * (2 + 1) = 6</code>.</li>\n</ul>\n\n<p>Thus, the total cost is <code>1 + 2 + 1 + 4 + 2 + 6 = 16</code>.</p>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= m, n &lt;= 10<sup>5</sup></code></li>\n\t<li><code>2 &lt;= m * n &lt;= 10<sup>5</sup></code></li>\n\t<li><code>waitCost.length == m</code></li>\n\t<li><code>waitCost[0].length == n</code></li>\n\t<li><code>0 &lt;= waitCost[i][j] &lt;= 10<sup>5</sup></code></li>\n</ul>\n",
    "difficulty": "Medium",
    "stats": "{\"totalAccepted\": \"18.7K\", \"totalSubmission\": \"41.9K\", \"totalAcceptedRaw\": 18669, \"totalSubmissionRaw\": 41948, \"acRate\": \"44.5%\"}",
    "topicTags": [
      {
        "name": "Array",
        "slug": "array",
        "translatedName": null
      },
      {
        "name": "Dynamic Programming",
        "slug": "dynamic-programming",
        "translatedName": null
      },
      {
        "name": "Matrix",
        "slug": "matrix",
        "translatedName": null
      }
    ],
    "hints": [
      "Use dynamic programming",
      "Observe that you need to wait at each cell except the first and last",
      "Transition: <code>dp[i][j]</code> <- min(<code>dp[i‑1][j]</code>, <code>dp[i][j‑1]</code>) + <code>waitCost[i][j]</code> + (<code>i+1</code>)*(<code>j+1</code>)",
      "The answer is <code>dp[m‑1][n‑1]</code> - <code>waitCost[m‑1][n‑1]</code>"
    ]
  },
  "submissions": [
    {
      "id": "1687409821",
      "statusDisplay": "Accepted",
      "lang": {
        "name": "python3",
        "verboseName": "Python3"
      },
      "runtime": 647,
      "memory": 42192000,
      "timestamp": 1751729586,
      "title": "Minimum Cost Path with Alternating Directions II",
      "titleSlug": "minimum-cost-path-with-alternating-directions-ii",
      "runtimeDisplay": "647 ms",
      "runtimePercentile": 56.988300000000066,
      "memoryDisplay": "42.2 MB",
      "memoryPercentile": 92.47310000000002,
      "code": "from typing import List\n\nclass Solution:\n    def minCost(self, m: int, n: int, waitCost: List[List[int]]) -> int:\n        def entry(i: int, j: int) -> int:\n            return (i + 1) * (j + 1)\n\n        # dp[j] holds the cost for cell (current_row, j)\n        dp = [0] * n\n        dp[0] = entry(0, 0)                     # (0,0)\n\n        # fill first row (only moves are to the right, predecessor is start for j==1)\n        for j in range(1, n):\n            add_wait = 0 if j - 1 == 0 else waitCost[0][j - 1]\n            dp[j] = dp[j - 1] + add_wait + entry(0, j)\n\n        # iterate over remaining rows\n        for i in range(1, m):\n            # first column of this row (only predecessor is directly above)\n            add_wait = 0 if i - 1 == 0 else waitCost[i - 1][0]\n            dp[0] = dp[0] + add_wait + entry(i, 0)\n\n            # inner cells\n            for j in range(1, n):\n                up    = dp[j]     + waitCost[i - 1][j] + entry(i, j)\n                left  = dp[j - 1] + waitCost[i][j - 1] + entry(i, j)\n\n                # adjust if predecessor == start\n                if i - 1 == 0 and j == 0:\n                    up = dp[j] + entry(i, j)\n                if i == 0 and j - 1 == 0:\n                    left = dp[j - 1] + entry(i, j)\n\n                dp[j] = min(up, left)\n\n        return dp[-1]\n",
      "statusCode": 10,
      "user": {
        "username": "saachinnnn",
        "profile": {
          "realName": "iamkindagoated"
        }
      },
      "question": {
        "questionId": "3927",
        "titleSlug": "minimum-cost-path-with-alternating-directions-ii",
        "hasFrontendPreview": false
      },
      "notes": "",
      "flagType": "WHITE",
      "topicTags": [],
      "runtimeError": null,
      "compileError": null
    }
  ]
}